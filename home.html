<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylehome.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Home</title>
</head>

<body>
    <div id="bungkus">
        <div class="header">
            <img src="Asset untuk html/home/logo.png">
        </div>
        <center>
        <div class="bars">
        <div class="container-fluid">
            <div class="row">
              <div class="col-md-6 col-lg-6">
                <div class="bar-container">
                  <label for="health">Health</label>
                  <meter value="100" min="0" max="100" low="25" id="health"></meter>
                </div>
              </div>
              <div class="col-md-6 col-lg-6">
                <div class="bar-container">
                  <label for="food">Food</label>
                  <meter value="100" min="0" max="100" low="25" id="food"></meter>
                </div>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 col-lg-6">
                <div class="bar-container">
                  <label for="sleep">Sleep</label>
                  <meter value="100" min="0" max="100" low="25" id="sleep"></meter>
                </div>
              </div>
              <div class="col-md-6 col-lg-6">
                <div class="bar-container">
                  <label for="exp">EXP</label>
                  <meter value="0" min="0" max="100" low="25" id="exp"></meter>
                </div>
              </div>
            </div>
          </div>
        </div>
        </center>
        <div class="body">
            <div class="greetings">
                <span id="greeting"></span> <span id="petname"></span>
                <br>
                <br>
                <span id="time">06:00</span>
                <!-- Display the time starting from 06:00 -->
            </div>
            <br />
            <div class="chara">
                <img id="petImage" src="">
            </div>
        </div>

                <div class="container-fluid">
                <div class="row">
                <div class="col-sm-6 col-md-6 col-lg-6">
                <div class="btnkiri btn-group-vertical btn-block">
                    <button id="btnMakan" class="btn btn-light"><span>MAKAN</span></button>
                    <br>
                    <button id="btnMain" class="btn btn-light"><span><a href="game.html">MAIN</a></span></button>
                </div>
                </div>
                <div class="col-sm-6 col-md-6 col-lg-6">
                <div class="btnkanan btn-group-vertical btn-block">
                    <button id="btnTidur" class="btn btn-light"><span>TIDUR</span></button>
                    <br>
                    <button id="btnObat" class="btn btn-light"><span>OBAT</span></button>
                </div>
                </div>
                </div>
                </div>
                <!-- <div class="container-fluid">
                    <div class="row">
                      <div class="col-sm-6 col-md-6 col-lg-6">
                        <div class="btn-group-vertical btn-block">
                          <button id="btnMakan" class="btn btn-light btn-block"><span>MAKAN</span></button>
                          <button id="btnMain" class="btn btn-light"><span><a href="game.html">MAIN</a></span></button>
                        </div>
                      </div>
                      <div class="col-sm-6 col-md-6 col-lg-6">
                        <div class="btn-group-vertical btn-block">
                          <button id="btnTidur" class="btn btn-light"><span>TIDUR</span></button>
                          <button id="btnObat" class="btn btn-light"><span>OBAT</span></button>
                        </div>
                      </div>
                    </div>
                  </div> -->
                  
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script>
        // Get pet name from localStorage and display it
        // Get pet name from localStorage and display it
        var petname = localStorage.getItem("petname");
        document.getElementById("petname").textContent = petname;
        const charImg = localStorage.getItem("charImg");
        document.getElementById("petImage").src = charImg;

        // Update time every second
        var timeElement = document.querySelector(".greetings > #time");
        var greetingElement = document.querySelector(".greetings > #greeting");
        var hours = 6;
        var minutes = 0;
        var intervalId;

        function updateClock() {
            minutes += 1;
            if (minutes >= 60) {
                hours++;
                minutes -= 60;
            }
            var timeString = hours.toString().padStart(2, "0") + ":" + minutes.toString().padStart(2, "0");
            timeElement.textContent = timeString;

            // Update greeting based on time
            var time = parseInt(hours.toString() + minutes.toString());
            if (time >= 1900 || time < 400) {
                greetingElement.textContent = "Good Night, ";
                document.body.style.backgroundImage = "url('Asset untuk html/Untitled-3.png')";
                
            } else if (time >= 400 && time < 1100) {
                document.body.style.backgroundImage = "url('Asset untuk html/Untitled-1.png')";
                greetingElement.textContent = "Good Morning, ";
            } else if (time >= 1100 && time < 1500) {
                document.body.style.backgroundImage = "url('Asset untuk html/Untitled-1.png')";
                greetingElement.textContent = "Good Afternoon, ";
            } else {
                document.body.style.backgroundImage = "url('Asset untuk html/Untitled-2.png')";
                greetingElement.textContent = "Good Evening, ";
            }
        }

        intervalId = setInterval(updateClock, 1000);




        // Tidur button click event handler
        var btnTidur = document.querySelector(".btnkanan > .btn:first-of-type");
        btnTidur.addEventListener("click", function () {
            var sleepMeter = document.getElementById("sleep");
            sleepMeter.value = 100; // fill up the sleep meter
            hours += 8; // pass 8 hours
            if (hours >= 24) {
                hours -= 24;
            }
            updateClock();
        });

        // Main button click event handler
        // Main button click event handler
        var btnMain = document.getElementById("btnMain");
        btnMain.addEventListener("click", function () {
            hours += 6; // progress the time by 6 hours  
            if (hours >= 24) {
                hours -= 24;
            }
            var timeString = hours.toString().padStart(2, "0") + ":" + minutes.toString().padStart(2, "0");
            timeElement.textContent = timeString;
        });


        // Play button click event handler
        var btnPlay = document.querySelector(".btnkiri > .btn:last-of-type");
        btnPlay.addEventListener("click", function () {
            minutes += 10; // progress the time by 10 minutes
            if (minutes >= 60) {
                hours++;
                minutes -= 60;
            }
            updateClock();
        });

        // Obat button click event handler
        // Makan button click event handler
        var btnMakan = document.querySelector(".btnkiri > .btn:first-of-type");
        btnMakan.addEventListener("click", function () {
            var foodMeter = document.getElementById("food");
            var healthMeter = document.getElementById("health");
            var sleepMeter = document.getElementById("sleep");
            foodMeter.value += 20; // increase food meter by 20
            if (foodMeter.value > 100) {
                foodMeter.value = 100;
            }
            minutes += 30; // progress the time by 30 minutes
            if (minutes >= 60) {
                hours++;
                minutes -= 60;
            }
            updateClock();
            sleepMeter.value -= 5; // decrease sleep meter by 5
        });

        // Obat button click event handler
        var btnObat = document.querySelector(".btnkanan > .btn:last-of-type");
        btnObat.addEventListener("click", function () {
            var foodMeter = document.getElementById("food");
            var healthMeter = document.getElementById("health");
            var sleepMeter = document.getElementById("sleep");
            healthMeter.value += 20; // increase health meter by 20
            if (healthMeter.value > 100) {
                healthMeter.value = 100;
            }
            minutes += 10; // progress the time by 10 minutes
            if (minutes >= 60) {
                hours++;
                minutes -= 60;
            }
            updateClock();
            sleepMeter.value -= 5; // decrease sleep meter by 5
        });


        // Decrement health, food, and sleep meters by 10 every minute
        setInterval(function () {
            var healthMeter = document.getElementById("health");
            var foodMeter = document.getElementById("food");
            var sleepMeter = document.getElementById("sleep");
            healthMeter.value -= 1;
            foodMeter.value -= 1;
            sleepMeter.value -= 1;
            if (healthMeter.value < 0) {
                healthMeter.value = 0;
            }
            if (foodMeter.value < 0) {
                foodMeter.value = 0;
            }
            if (sleepMeter.value < 0) {
                sleepMeter.value = 0;
            }
            // Check if game is over
            if (healthMeter.value == 0 || foodMeter.value == 0 || sleepMeter.value == 0) {
                // Game over
                alert("Game Over!");
                // Stop the decrementing of meters
                clearInterval(intervalId);
            }
        }, 60000); // 1 minute = 60,000 milliseconds


        var btnMain = document.getElementById("btnMain");
        btnMain.addEventListener("click", function () {
            var foodMeter = document.getElementById("food");
            var healthMeter = document.getElementById("health");
            var sleepMeter = document.getElementById("sleep");
            var expMeter = document.getElementById("exp");
            foodMeter.value -= 30; // decrease food meter by 30
            healthMeter.value -= 30; // decrease health meter by 30
            sleepMeter.value -= 30; // decrease sleep meter by 30
            if (foodMeter.value < 0) {
                foodMeter.value = 0;
            }
            if (healthMeter.value < 0) {
                healthMeter.value = 0;
            }
            if (sleepMeter.value < 0) {
                sleepMeter.value = 0;
            }
            expMeter.value += 50; // increase exp meter by 50
            if (expMeter.value > 100) {
                expMeter.value = 100;
            }
            hours += 6; // progress the time by 6 hours
            if (hours >= 24) {
                hours -= 24;
            }
            var timeString = hours.toString().padStart(2, "0") + ":" + minutes.toString().padStart(2, "0");
            timeElement.textContent = timeString;
        });



    </script>
</body>

</html>